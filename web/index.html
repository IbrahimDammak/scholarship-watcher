<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Subscribe to scholarship alerts for European countries. Get notified about new Cloud, IT, and Computer Science scholarships.">
    <title>Scholarship Watcher - Subscribe to Alerts</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <main class="container">
        <header>
            <h1>üéì Scholarship Watcher</h1>
            <p class="subtitle">Get notified about new Cloud, IT &amp; CS scholarships in Europe</p>
        </header>

        <form id="subscription-form" name="scholarship-subscription" method="POST" data-netlify="true" netlify-honeypot="bot-field">
            <input type="hidden" name="form-name" value="scholarship-subscription">
            <p class="hidden">
                <label>Don't fill this out if you're human: <input name="bot-field"></label>
            </p>

            <div class="form-group">
                <label for="email">Email Address <span class="required">*</span></label>
                <input 
                    type="email" 
                    id="email" 
                    name="email" 
                    required 
                    placeholder="your.email@example.com"
                    autocomplete="email"
                >
                <span class="error-message" id="email-error"></span>
            </div>

            <fieldset class="form-group">
                <legend>Select Countries <span class="required">*</span></legend>
                <p class="field-hint">Choose the countries you want to receive scholarship alerts for:</p>
                
                <div class="select-actions">
                    <button type="button" id="select-all" class="btn-link">Select All</button>
                    <button type="button" id="select-none" class="btn-link">Clear All</button>
                </div>

                <div id="countries-container" class="countries-grid">
                    <p class="loading">Loading countries...</p>
                </div>
                <span class="error-message" id="countries-error"></span>
            </fieldset>

            <input type="hidden" id="countries-data" name="countries" value="">
            <input type="hidden" id="timestamp" name="created_at" value="">

            <div class="form-actions">
                <button type="submit" id="submit-btn" class="btn-primary">
                    <span class="btn-text">Subscribe to Alerts</span>
                    <span class="btn-loading hidden">Subscribing...</span>
                </button>
            </div>
        </form>

        <div id="success-message" class="message success hidden">
            <h2>‚úÖ Successfully Subscribed!</h2>
            <p>You will receive email notifications when new scholarships are found for your selected countries.</p>
            <button type="button" id="subscribe-another" class="btn-secondary">Subscribe Another Email</button>
        </div>

        <div id="error-message" class="message error hidden">
            <h2>‚ùå Subscription Failed</h2>
            <p id="error-details">Something went wrong. Please try again.</p>
            <button type="button" id="try-again" class="btn-secondary">Try Again</button>
        </div>

        <footer>
            <p>Scholarships are checked daily. You can unsubscribe at any time by contacting us.</p>
            <p class="credits">Powered by <a href="https://github.com" target="_blank" rel="noopener">GitHub Actions</a> &amp; <a href="https://netlify.com" target="_blank" rel="noopener">Netlify</a></p>
        </footer>
    </main>

    <script src="script.js"></script>
</body>
</html>
